<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- 기본 메타 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>✨NewTypePosts✨</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> 

    <!-- Bootstrap ICONS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- 공통 커스텀 CSS -->
    <link rel="stylesheet" href="/src/main/resources/static/css/app.css">
</head>
<body class="bg-light">
<a id="top"></a> <!-- 최상단 이동 기준점 -->

<!-- ===== NAVBAR ===== -->
<nav class="navbar navbar-expand-lg bg-white border-bottom">
    <div class="container">
        <a class="navbar-brand fw-bold" href="/src/main/resources/templates/index.html">NewTypePosts</a>

        <!-- 햄버거 버튼 (모바일 전용) -->
        <button class="navbar-toggler p-0 border-0 bg-transparent shadow-none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarMenu"
                aria-controls="navbarMenu"
                aria-expanded="false"
                aria-label="Toggle navigation">
            <i class="bi bi-list fs-2" id="menuIcon"></i>
        </button>

        <!-- 햄버거 안에 들어갈 영역 -->
        <div class="collapse navbar-collapse" id="navbarMenu">
            <ul class="navbar-nav w-100 d-flex flex-row justify-content-end gap-3 align-items-center"
                id="authArea">

                <!-- 다크모드 토글 -->
                <li class="nav-item">
                    <div class="form-check form-switch d-flex align-items-center gap-2 mb-0">
                        <i class="bi bi-moon"></i>
                        <input class="form-check-input"
                        type="checkbox"
                        id="darkModeToggle"
                        title="다크모드 전환">
                    </div>
                </li>

                <!-- 회원가입 -->
                <li class="nav-item">
                    <button class="btn btn-outline-primary btn-sm w-100 text-end"
                        type="button"
                        data-bs-toggle="modal"
                        data-bs-target="#signupModal">
                    회원가입
                    </button>
                </li>

                <!-- 로그인 -->
                <li class="nav-item">
                    <button class="btn btn-outline-primary btn-sm w-100 text-end"
                        type="button"
                        data-bs-toggle="modal"
                        data-bs-target="#loginModal">
                    로그인
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- ===== MAIN ===== -->
<main class="container py-4">

    <!-- 헤더 -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h4 mb-0">포스트</h1>

        <!-- 우측 액션 영역 -->
        <div class="d-flex align-items-center gap-2">

            <!-- 검색 입력창 (기본 접힘) -->
            <div class="collapse" id="searchCollapse">
                <form class="d-flex" role="search">
                    <input class="form-control form-control-sm"
                            type="search"
                            placeholder="제목 검색"
                            aria-label="제목 검색">
                </form>
            </div>

            <!-- 돋보기 버튼: 클릭 시 입력창 토글 -->
            <button class="btn btn-outline-secondary btn-sm d-flex align-items-center justify-content-center"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#searchCollapse"
                    aria-expanded="false"
                    aria-controls="searchCollapse"
                    title="검색">
                <i class="bi bi-search"></i>
            </button>

            <!-- 글쓰기 버튼 -->
            <a href="/src/main/resources/templates/write.html" class="btn btn-primary btn-sm">
                글쓰기 📝
            </a>
        </div>
    </div>

    <!-- 게시글 목록 -->
    <div id="postList" class="row g-4">

        <!-- 게시글 카드 -->
        <div class="col-md-6 col-lg-4">
            <!-- 카드 전체를 링크로 -->
            <a href="/read.html?id=1" class="text-decoration-none text-dark">
                <div class="card h-100 shadow-sm post-card">

                    <!-- 썸네일 (사진 있는 경우만 렌더링) -->
                    <img
                        src="/src/main/resources/static/img/test/프로필_아스카.png"
                        class="card-img-top"
                        alt="게시글 썸네일">

                    <div class="card-body">

                        <!-- 제목 + 고정 아이콘 -->
                        <h5 class="card-title fw-bold d-flex align-items-center gap-2">
                            <i class="bi bi-pin-fill text-warning"></i>
                            샘플 게시글 제목
                        </h5>

                        <!-- 요약 -->
                        <p class="card-text text-muted small post-summary">
                            여기에 게시글 요약이 들어갑니다.
                            내용이 길어지면 두세 줄까지만 보이도록 처리할 예정입니다.
                        </p>
                    </div>

                    <!-- FOOTER -->
                    <div class="card-footer bg-white small text-muted">

                        <!-- 1행: 작성자 / 날짜 -->
                        <div class="d-flex justify-content-between mb-1">
                            <span class="fw-medium">상준</span>
                            <span>2025-12-20</span>
                        </div>

                        <!-- 2행: 조회수 / 댓글 / 좋아요 -->
                        <div class="d-flex justify-content-end gap-2 text-muted small">
                            <span>
                                <i class="bi bi-eye"></i> 123
                            </span>
                            <span>
                                <i class="bi bi-chat"></i> 4
                            </span>
                            <span>
                                <i class="bi bi-heart"></i> 12
                            </span>
                        </div>

                    </div>
                </div>
            </a>
        </div>

        <!-- 게시글 카드 -->
        <div class="col-md-6 col-lg-4">
            <!-- 카드 전체를 링크로 -->
            <a href="/read.html?id=1" class="text-decoration-none text-dark">
                <div class="card h-100 shadow-sm post-card">

                    <!-- 썸네일 (사진 있는 경우만 렌더링) -->
                    <img
                        src="/src/main/resources/static/img/test/디시자짤.jpg"
                        class="card-img-top"
                        alt="게시글 썸네일">

                    <div class="card-body">

                        <!-- 제목 + 고정 아이콘 -->
                        <h5 class="card-title fw-bold d-flex align-items-center gap-2">
                            <i class="bi bi-pin-fill text-warning"></i>
                            샘플 게시글 제목
                        </h5>

                        <!-- 요약 -->
                        <p class="card-text text-muted small post-summary">
                            여기에 게시글 요약이 들어갑니다.
                            내용이 길어지면 두세 줄까지만 보이도록 처리할 예정입니다.
                        </p>
                    </div>

                    <!-- FOOTER -->
                    <div class="card-footer bg-white small text-muted">

                        <!-- 1행: 작성자 / 날짜 -->
                        <div class="d-flex justify-content-between mb-1">
                            <span class="fw-medium">상준</span>
                            <span>2025-12-20</span>
                        </div>

                        <!-- 2행: 조회수 / 댓글 / 좋아요 -->
                        <div class="d-flex justify-content-end gap-2 text-muted small">
                            <span>
                                <i class="bi bi-eye"></i> 123
                            </span>
                            <span>
                                <i class="bi bi-chat"></i> 4
                            </span>
                            <span>
                                <i class="bi bi-heart"></i> 12
                            </span>
                        </div>

                    </div>
                </div>
            </a>
        </div>


    </div>


    <!-- 게시글이 없을 때 표시할 영역 -->
    <div id="postEmpty" class="text-center text-muted py-5 d-none">
        아직 게시글이 없어.
    </div>

</main>

<!-- ===== FOOTER ===== -->
<footer class="border-top bg-white py-3 mt-5">
    <div class="container text-center text-muted small">
        © 2025 NewTypeAsuka | All rights reserved.
    </div>
</footer>

<!-- ===== MODALS ===== -->

<!-- 회원가입 모달 -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="signupModalLabel">회원가입</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form id="signupForm">
                    <div class="row g-3">

                        <!-- 1행: 프로필 사진 -->
                        <div class="col-12 text-center">

                            <!-- 가운데 정렬 래퍼 -->
                            <div class="d-flex justify-content-center">
                                <label for="profileImage"
                                    class="d-inline-flex align-items-center justify-content-center position-relative rounded-circle border mx-auto bg-light"
                                    style="width: 120px; height: 120px; cursor: pointer;"
                                    aria-label="프로필 사진 업로드">

                                    <!-- 기본 아이콘 -->
                                    <i class="bi bi-person fs-1"></i>

                                    <!-- + 아이콘 -->
                                    <span class="position-absolute top-50 start-50 translate-middle">
                                        <i class="bi bi-plus-circle fs-3"></i>
                                    </span>
                                </label>
                            </div>

                            <!-- 실제 파일 input -->
                            <input type="file" id="profileImage" name="profileImage" class="d-none" accept="image/*">
                        </div>

                        <!-- 2행: 아이디 / 비밀번호 -->
                        <div class="col-md-6">
                            <label class="form-label">아이디</label>
                            <span class="required-mark">*</span>
                            <input type="text" class="form-control" name="userId" placeholder="아이디를 입력해주세요" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">비밀번호</label>
                            <span class="required-mark">*</span>
                            <input type="password" class="form-control" name="userPw" placeholder="비밀번호를 입력해주세요" required>
                        </div>

                        <!-- 3행: 닉네임 / 생년월일 -->
                        <div class="col-md-6">
                            <label class="form-label">닉네임</label>
                            <span class="required-mark">*</span>
                            <input type="text" class="form-control" name="nickname" placeholder="닉네임을 입력해주세요" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">생년월일</label>
                            <span class="required-mark">*</span>
                            <input type="date" class="form-control" name="birthday" required>
                        </div>

                        <!-- 4행: 가입코드 -->
                        <div class="col-12">
                            <label class="form-label">추천인 코드</label>
                            <input type="text" class="form-control" name="recommendCode" placeholder="추천인 코드를 입력해주세요">
                        </div>

                        <div class="col-12 text-end small text-muted">* 필수 입력 항목</div>

                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">취소</button>
                <button type="submit" form="signupForm" class="btn btn-primary">회원가입</button>
            </div>
        </div>
    </div>
</div>


<!-- 로그인 모달 -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="loginModalLabel">로그인</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form id="loginForm">
                    <div class="mb-3">
                        <label class="form-label">아이디</label>
                        <input type="text" class="form-control" name="userId" placeholder="아이디를 입력해주세요" required>
                    </div>

                    <div class="mb-2">
                        <label class="form-label">비밀번호</label>
                        <input type="password" class="form-control" name="userPw" placeholder="비밀번호를 입력해주세요" required>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mt-2">
                        <a href="#" class="link-secondary small text-decoration-none">아이디 찾기</a>
                        <span class="text-secondary small">|</span>
                        <a href="#" class="link-secondary small text-decoration-none">비밀번호 찾기</a>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">취소</button>
                <button type="submit" form="loginForm" class="btn btn-primary">로그인</button>
            </div>
        </div>
    </div>
</div>

<!-- ===== FLOATING ACTION BUTTONS ===== -->
<div class="position-fixed bottom-0 end-0 p-3 d-flex flex-row gap-2" style="z-index: 1050;">

    <!-- 글쓰기 버튼 -->
    <a href="/post-form.html"
        class="btn btn-primary rounded-circle d-flex align-items-center justify-content-center shadow"
        style="width: 52px; height: 52px;"
        title="글쓰기">
        <i class="bi bi-plus-lg fs-4"></i>
    </a>

    <!-- 맨 위로 버튼 -->
    <a href="#top"
        class="btn btn-outline-secondary rounded-circle d-flex align-items-center justify-content-center shadow"
        style="width: 52px; height: 52px;"
        title="위로">
        <i class="bi bi-arrow-up fs-4"></i>
    </a>

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- 공통 JS -->
<script src="/src/main/resources/static/js/app.js"></script> <!-- 모듈로 관리 -->
<script src="/src/main/resources/static/js/navbar.js"></script>
</body>
</html>