<!-- ===== NAVBAR ===== -->
<nav class="navbar navbar-expand-lg bg-white border-bottom"
    th:fragment="navbar">

    <div class="container">
        <a class="navbar-brand fw-bold" th:href="@{/}">
            NewTypeBlog
        </a>

        <!-- 햄버거 버튼 -->
        <button class="navbar-toggler p-0 border-0 bg-transparent shadow-none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarMenu"
                aria-controls="navbarMenu"
                aria-expanded="false"
                aria-label="Toggle navigation">
            <i class="bi bi-list fs-2"></i>
        </button>

        <div class="collapse navbar-collapse" id="navbarMenu">
            <ul class="navbar-nav w-100 d-flex flex-row justify-content-end gap-3 align-items-center"
                id="authArea">

                <!-- 다크모드 -->
                <li class="nav-item">
                    <div class="form-check form-switch d-flex align-items-center gap-2 mb-0">
                        <i class="bi bi-moon"></i>
                        <input class="form-check-input"
                                type="checkbox"
                                id="darkModeToggle">
                    </div>
                </li>

                <!-- 언어 토글 -->
                <li class="nav-item dropdown">
                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle"
                            type="button"
                            data-bs-toggle="dropdown">
                        한국어 <img src="/src/main/resources/static/img/flag/kr.svg" width="16" />
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><button class="dropdown-item" data-lang="ko">한국어<img src="/src/main/resources/static/img/flag/kr.svg" width="16" /></button></li>
                        <li><button class="dropdown-item" data-lang="ja">日本語<img src="/src/main/resources/static/img/flag/jp.svg" width="16" /></button></li>
                        <li><button class="dropdown-item" data-lang="en">English<img src="/src/main/resources/static/img/flag/en.svg" width="16" /></button></li>
                    </ul>
                </li>

                <!-- 로그인 안 된 상태 -->
                <li class="nav-item"
                    th:if="${session.loginUser == null}">
                    <button class="btn btn-outline-primary btn-sm"
                            data-bs-toggle="modal"
                            data-bs-target="#loginModal">
                        로그인
                    </button>
                </li>

                <!-- 로그인 된 상태 -->
                <li class="nav-item"
                    th:if="${session.loginUser != null}">
                    <form th:action="@{/auth/logout}" method="post">
                        <button type="submit"
                                class="btn btn-outline-danger btn-sm">
                            로그아웃
                        </button>
                    </form>
                </li>

            </ul>
        </div>
    </div>
</nav>
